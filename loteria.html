<meta charset="utf-8">
<h1>Loteria</h1>

<button onclick="jogar()">
    Jogar
</button>

<script src="https://rawgit.com/caelum/projeto01/fichaAcademiaComInterfaceGrafica/apostilaIgnore/mostra.js"></script>
<script src="pegaNumero.js"></script>

<script>
    var numeroJogo = 0

    function jogar(){
        numeroJogo = numeroJogo + 1

        var numeroMisterioso = parseInt((Math.random()*99)+1)
        console.log(numeroMisterioso)

        var chute = pegaNumero("Chute qual é o número misterioso!")
        
        var qtChutesInvalidos = 0
        while(chute <= 0 || chute > 100){
            qtChutesInvalidos = qtChutesInvalidos + 1
            if(qtChutesInvalidos == 3) {
                alert("Game Over")
                break
            }

            chute = pegaNumero("Número misterioso inválido. Ele está entre 0 e 100. Tente de novo aí!")
        }

        if(chute == numeroMisterioso){
            mostra(`Jogo ${numeroJogo}: Acertou! O número era ${numeroMisterioso}`)
        } 
        else {
            mostra(`Jogo ${numeroJogo}: Errou! O número era ${numeroMisterioso}`)
        }
    }
</script>